<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>Gestão Empresas</title>

        <h:outputStylesheet library="algaworks" name="estilo.css" />
    </h:head>

    <h:body>
        <header>
            <h:graphicImage library="algaworks" name="logo.png" />
        </header>

        <div id="conteudo">
            <h:form>
                <h:panelGrid columns="2">
                    <p:outputLabel value="Razão Social:" for="razaoSocial" />
                    <h:panelGroup>
                        <p:inputText id="razaoSocial" value="#{gestaoEmpresasBean.empresa.razaoSocial}" required="true" />
                        <p:message for="razaoSocial" />
                    </h:panelGroup>

                    <p:outputLabel value="Nome Fantasia:" for="nomeFantasia" />
                    <h:panelGroup>
                        <p:inputText id="nomeFantasia" value="#{gestaoEmpresasBean.empresa.nomeFantasia}" required="true" />
                        <p:message for="nomeFantasia" />
                    </h:panelGroup>

                    <p:outputLabel value="Tipo Empresa:" for="tipo" />
                    <h:panelGroup>
                        <h:selectOneMenu id="tipo" value="#{gestaoEmpresasBean.empresa.tipo}" required="true">
                            <f:selectItem itemLabel="Selecione..."/>
                            <f:selectItems value="#{gestaoEmpresasBean.tiposEmpresa}" var="tipoEmpresa" itemLabel="#{tipoEmpresa.descricao}" itemValue="#{tipoEmpresa}" />
                        </h:selectOneMenu>
                        <p:message for="tipo" />
                    </h:panelGroup>

                    <p:outputLabel value="CNPJ:" for="cnpj" />
                    <h:panelGroup>
                        <p:inputText id="cnpj" value="#{gestaoEmpresasBean.empresa.cnpj}" required="true" maxlength="18">
                            <f:validateLength minimum="18" maximum="18" />
                        </p:inputText>
                        <p:message for="cnpj" />
                    </h:panelGroup>

                    <p:outputLabel value="Data Fundação:" for="dataFundacao" />
                    <h:panelGroup>
                        <p:inputText id="dataFundacao" value="#{gestaoEmpresasBean.empresa.dataFundacao}">
                            <f:convertDateTime pattern="dd/MM/yyyy" />
                        </p:inputText>
                        <p:message for="dataFundacao" />
                    </h:panelGroup>

                    <p:outputLabel value="Faturamento (R$):" for="faturamento" />
                    <h:panelGroup>
                        <p:inputText id="faturamento" value="#{gestaoEmpresasBean.empresa.faturamento}">
                            <!-- <f:convertNumber minFractionDigits="2" maxFractionDigits="2" /> --> <!-- Define a quantidade mínima e máxima de dígitos decimais -->
                            <f:convertNumber pattern="#,##0.00" /> <!-- O pattern deve ser configurado usando o padrão americano de números, o próprio JSF irá realizar a conversão pro padrão brasileiro (caso esteja configurado) -->
                            <f:validateDoubleRange minimum="0" />
                        </p:inputText>
                        <p:message for="faturamento" />
                    </h:panelGroup>

                    <p:outputLabel value="" />
                    <p:commandButton value="Salvar" actionListener="#{gestaoEmpresasBean.salvar()}" update="@form"/>

                    <p:outputLabel value="" />
                    <p:commandLink value="Ajuda?" action="#{gestaoEmpresasBean.ajuda()}"/>
                </h:panelGrid>

                <p:dataTable value="#{[0, 0, 0, 0]}">
                    <p:column headerText="Razão Social">
                        <h:outputText value="AlgaWorks Softwares, Treinamentos LDTA" />
                    </p:column>

                    <p:column headerText="Nome Fantasia">
                        <h:outputText value="AlgaWorks" />
                    </p:column>

                    <p:column headerText="Tipo Empresa">
                        <h:outputText value="LTDA" />
                    </p:column>
                </p:dataTable>
            </h:form>
        </div>

        <footer>
            Curso on-line "JSF e Primefaces Essencial"
        </footer>
    </h:body>
</html>
